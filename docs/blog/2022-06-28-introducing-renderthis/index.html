<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="John Paul Helveston">
<meta name="dcterms.date" content="2022-06-28">
<meta name="description" content="A brief introduction to the {renderthis} package for rendering {xaringan} slides to different output types (previously called {xaringanBuilder})">

<title>Introducing the {renderthis} package – laurenchenarides.com</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-720d9621c3b9440ef67bd7ec4ac07912.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HQNG5WQE3X"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HQNG5WQE3X', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>
<!-- academic icons -->



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">



<!-- altmetric icons -->

<script type="text/javascript" src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>



<!-- fontawesome icons -->

<script src="https://kit.fontawesome.com/1392a7030f.js" crossorigin="anonymous"></script>







<meta property="og:title" content="Introducing the {renderthis} package – laurenchenarides.com">
<meta property="og:description" content="A brief introduction to the {renderthis} package for rendering {xaringan} slides to different output types (previously called {xaringanBuilder})">
<meta property="og:image" content="https://www.laurenchenarides.com/blog/2022-06-28-introducing-renderthis/images/logo.png">
<meta property="og:site_name" content="https://laurenchenarides.com">
<meta property="og:locale" content="es_ES">
<meta property="og:image:height" content="345">
<meta property="og:image:width" content="637">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">laurenchenarides.com</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../bio.qmd"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../lab.html"> 
<span class="menu-text">Lab</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../workshops.html"> 
<span class="menu-text">Workshops</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#what-can-it-do" id="toc-what-can-it-do" class="nav-link active" data-scroll-target="#what-can-it-do">What can it do?</a></li>
  <li><a href="#in-the-beginning-there-was-pagedownchrome_print" id="toc-in-the-beginning-there-was-pagedownchrome_print" class="nav-link" data-scroll-target="#in-the-beginning-there-was-pagedownchrome_print">In the beginning, there was <code>pagedown::chrome_print()</code></a></li>
  <li><a href="#build-all-the-things" id="toc-build-all-the-things" class="nav-link" data-scroll-target="#build-all-the-things">Build all the things!</a></li>
  <li><a href="#enter-stage-left-gadenbuie" id="toc-enter-stage-left-gadenbuie" class="nav-link" data-scroll-target="#enter-stage-left-gadenbuie">Enter stage left: gadenbuie</a></li>
  <li><a href="#outside-influences" id="toc-outside-influences" class="nav-link" data-scroll-target="#outside-influences">Outside influences</a></li>
  <li><a href="#changing-the-name" id="toc-changing-the-name" class="nav-link" data-scroll-target="#changing-the-name">Changing the name</a></li>
  <li><a href="#going-to-cran" id="toc-going-to-cran" class="nav-link" data-scroll-target="#going-to-cran">Going to CRAN!</a></li>
  <li><a href="#whats-next" id="toc-whats-next" class="nav-link" data-scroll-target="#whats-next">What’s next?</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introducing the {renderthis} package</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">package</div>
    <div class="quarto-category">software</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>A brief introduction to the {renderthis} package for rendering {xaringan} slides to different output types (previously called {xaringanBuilder})</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>John Paul Helveston </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2022-06-28</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This post introduces the <a href="https://github.com/jhelvy/renderthis">{renderthis}</a> <i class="fab fa-r-project"></i> package (originally named {xaringanBuilder}). The package contains functions for rendering xaringan slides to different formats. Rather than use this post to demo all the package features, I decided to write a brief overview of it’s primary functionality and then focus the rest of this post on the package’s development history. The image above shows the different versions of the package hex sticker, the first one being in the running for the ugliest hex sticker of all time.</p>
<section id="what-can-it-do" class="level1">
<h1>What can it do?</h1>
<p>The {renderthis} package contains functions for rendering xaringan slides (Quarto support coming!) to different formats, including html, pdf, png, gif, pptx, and mp4, as well as a ‘social’ output, a png of the first slide re-sized for sharing on social media.</p>
<p>The package follows the following render hierarchy:</p>
<pre><code>Rmd
 |
 |--&gt; social (png)
 |
 |--&gt; html
       |
       |--&gt; pdf
             |
             |--&gt; png
                   |
                   |--&gt; gif
                   |
                   |--&gt; mp4
                   |
                   |--&gt; pptx</code></pre>
<p>All of the package functions follow a common pattern:</p>
<ul>
<li>All functions start with <code>to_*()</code> to render slides to a desired format (e.g., <code>to_pdf()</code>).</li>
<li>All functions have a required <code>from</code> argument which should be set to the full or local path to the input file.</li>
<li>All functions have an optional <code>to</code> argument. If provided, it can be a full or local path to the output file, and it must end in an appropriate extension (e.g.&nbsp;<code>slides.gif</code> for <code>to_gif()</code>). If it is not provided, the output file name will be determined based on the <code>from</code> argument.</li>
</ul>
<p>While it is designed for rendering {xaringan} slides, other html slides are also supported. For example, if you have a Quarto presentation rendered as an html file, you can use any of the <code>to_*()</code> functions to render those slides to a pdf, png, gif, pptx, or mp4 file.</p>
<p>That’s the gist of what the package does, and the <a href="https://jhelvy.github.io/renderthis/">package documentation</a> has many more details about the package features. Now, follow me back to 2020 where this journey began.</p>
</section>
<section id="in-the-beginning-there-was-pagedownchrome_print" class="level1">
<h1>In the beginning, there was <code>pagedown::chrome_print()</code></h1>
<p>The {renderthis} package began in the fall of 2020 as a solution to a simple problem: <strong>converting {xaringan} slides to a pdf</strong>. I love {xaringan} slides, but the html format is clunky for sharing, especially as an email attachment, so I wanted a way to convert them to a pdf. Before making the package, my solution was to simply use <code>pagedown::chrome_print()</code> to “print” my rendered html file of {xaringan} slides to a pdf. For the most part, it worked just fine, and it still does! If all you need is a quick pdf of some simple slides, then <code>pagedown::chrome_print()</code> is probably sufficient.</p>
<p>But being the lazy programmer I am, I wanted a <em>single</em> function that rendered the html and pdf files from the Rmd source file. So I wrote a quick function I called <a href="https://github.com/jhelvy/renderthis/blob/9036b19fa3f5f901468f552c11d77c2b08982a97/R/functions.R#L16-L29"><code>build_pdf()</code></a> that was essentially a wrapper around <code>pagedown::chrome_print()</code>. It checked if the input file was an Rmd file, and if so it first rendered the html and then rendered the pdf. It was a pretty simple solution, and I found it easier to remember the function <code>build_pdf()</code> over <code>chrome_print()</code>. With that function written, I decided to name the package {xaringanBuilder} as an homage to <a href="https://twitter.com/grrrck">Garrick Aden-Buie</a>’s incredible <a href="https://pkg.garrickadenbuie.com/xaringanExtra/#/">{xaringanExtra}</a> package.</p>
</section>
<section id="build-all-the-things" class="level1 page-columns page-full">
<h1>Build all the things!</h1>
<center>
<center>
<img src="images/build.gif" width="50%">
</center>
</center>
<aside>
<a href="https://giphy.com/gifs/TheDemocrats-dnc-democrats-dncgif-sbc05kozq8QvqBjmMS">Image source</a>
</aside>
<p>With <code>build_pdf()</code> working, I realized that I could use the rendered pdf to convert my slides into other format types without too much more effort. For example, I wrote a <code>build_thumbnail()</code> function (a wrapper around <code>pagedown::chrome_print(format = "png")</code>) to convert the title slide of the pdf deck to a png image. This was handy for making thumbnail images for youtube recordings of my <a href="https://www.youtube.com/playlist?list=PLzFdSE-D7jUQnbczxdjohRqlBBrrsaFFg">class lectures</a> (hence the name <code>build_thumbnail()</code>).</p>
<p>But then I realized I could also render <em>all</em> the slides to png images, and with the help of the <a href="https://docs.ropensci.org/magick/articles/intro.html">{magick} package</a> I could use <code>magick::image_join()</code> and <code>magick::image_animate()</code> to compile those pngs into an animated gif of my whole presentation! This provided a handy way to share my slides, like posting them on Twitter.</p>
</section>
<section id="enter-stage-left-gadenbuie" class="level1">
<h1>Enter stage left: <a href="https://github.com/gadenbuie">gadenbuie</a></h1>
<p>Just a couple months after starting the package, Garrick wrote an <a href="https://www.garrickadenbuie.com/blog/print-xaringan-chromote/">awesome blog post</a> on using the <a href="https://github.com/rstudio/chromote">{chromote} package</a> to print slides to a pdf in a way to allows incremental animations to be rendered on separate slides as well as separate slides for each panel in a <a href="https://pkg.garrickadenbuie.com/xaringanExtra/#/panelset">panelset</a> (the <code>pagedown::chrome_print()</code> solution would only render these as a single slide).</p>
<center>
<blockquote class="twitter-tweet blockquote" data-lang="en" data-theme="dark">
<p lang="en" dir="ltr">
Just posted: Do you have complicated {xaringan} <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> slides or use panelsets from {xaringanExtra}? Do you need a PDF version of your slides? I've got a little function for you:<a href="https://t.co/UXwW2KtvOw">https://t.co/UXwW2KtvOw</a>
</p>
— Garrick Aden-Buie (<span class="citation" data-cites="grrrck">@grrrck</span>) <a href="https://twitter.com/grrrck/status/1353761073439137794?ref_src=twsrc%5Etfw">January 25, 2021</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<p>After <a href="https://twitter.com/grrrck/status/1353761073439137794">connecting on Twitter</a>, I quickly added Garrick as a contributor and we started working on integrating this function into {xaringanBuilder}.</p>
<blockquote class="blockquote">
<p>Folks, at this point I need to tell you about a little-known package development secret: If you want your package to be awesome, <strong>ask Garrick to join the project</strong>.</p>
</blockquote>
<p>I cannot emphasize enough just how much better this package became once Garrick started working on it. Garrick has an excellent eye for making packages user-friendly, and he is an absolute Git / GitHub wizard (read on to the bit about changing the package name to see some of this). Here are a few things he quickly added:</p>
<ul>
<li>He made lots of quick changes to make all the functions more robust for different use cases.</li>
<li>He integrated the <a href="https://github.com/r-lib/cli">{cli} package</a> to make beautiful status messages so the user can see the progress of the output being built.</li>
<li>He introduced the <a href="https://github.com/r-lib/fs">{fs} package</a> to simplify how file paths were being handled (which were getting rather tricky with all the different output types involved).</li>
<li>He introduced multiple tests and integrated it with Github Actions so that the tests would run and the {pkgdown} site would render on every commit.</li>
</ul>
<p>Without a doubt, Garrick’s additions transformed the package from a handful of convenient functions to a feature-packed, user-friendly tool for rendering slides.</p>
</section>
<section id="outside-influences" class="level1">
<h1>Outside influences</h1>
<p>At this stage, the package had already become quite a useful tool, and many users were filing issues catching little bugs here and there. The package had also grabbed the attention of several people who helped add more features. <a href="https://github.com/brshallo">Bryan Shalloway</a> <a href="https://github.com/jhelvy/renderthis/pull/5">added the initial support</a> for rendering slides into a powerpoint deck, and <a href="https://twitter.com/EvaMaeRey">Gina Reynolds</a>’s <a href="https://evamaerey.github.io/flipbookr/">{flipbookr}</a> package provided some inspiration for adding support for rendering slides to mp4 videos.</p>
<p>Many other people added in small ways to the package over the following year. Some found bugs and posted issues, others sent pull requests with fixes. Over the summer of 2021 Garrick did an <a href="https://github.com/jhelvy/renderthis/pull/33">overhaul</a> of how paths were handled in the package, after which the package remained relatively stable for about a year.</p>
</section>
<section id="changing-the-name" class="level1">
<h1>Changing the name</h1>
<p>In the spring of 2022, <a href="https://quarto.org/">Quarto</a> started to catch fire. Alison Hill’s <a href="https://www.apreshill.com/blog/2022-04-we-dont-talk-about-quarto/">“We don’t talk about Quarto”</a> post (among others) inspired me to check out <a href="https://quarto.org/docs/presentations/">Quarto presentations</a>, which are quite similar to {xaringan} slides.</p>
<center>
<blockquote class="twitter-tweet blockquote" data-theme="dark">
<p lang="en" dir="ltr">
Woah, okay <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> world I may have to just make the .Rmd -&gt; .qmd switch…<span class="citation" data-cites="quarto_dev">@quarto_dev</span> is looking amazing. <br><br>Exhibit A: Figures and tables in the margins! 🤯 <a href="https://t.co/BDEHvxhd6e">pic.twitter.com/BDEHvxhd6e</a>
</p>
— John Paul Helveston (<span class="citation" data-cites="JohnHelveston">@JohnHelveston</span>) <a href="https://twitter.com/JohnHelveston/status/1509118985782050818?ref_src=twsrc%5Etfw">March 30, 2022</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<p>The revelation of Quarto presentations made me realize that the {xaringanBuilder} package could actually be used to render a wider variety of inputs other than just {xaringan} slides. In fact, I myself had already used it for other purposes, such as converting the first page of a pdf paper I wrote into a png image This prompted me to consider <a href="https://github.com/jhelvy/renderthis/issues/48">changing the package name</a>.</p>
<p>After a little <a href="https://github.com/jhelvy/renderthis/issues/48#issuecomment-1095267718">back and forth</a>, Garrick and I decided to call it {renderthis} as an homage to the phenomenal <a href="https://usethis.r-lib.org/">{usethis}</a> package. We also wanted to maintain the strategy of having every function begin with the same word (previously <code>build_*()</code>), and we chose <code>to_*()</code> so that the package and function names would work together to form a kind of sentence, like <code>renderthis::to_pdf()</code>.</p>
<p>Once we came up with a new name, implementing that name was daunting. I really had no idea where to begin, so I just created an entirely new repo under <code>jhelvy/renderthis</code> and started editing the source code accordingly. This proved to be a useful exercise as it allowed us to see how the new package would look and feel without touching the older one. In retrospect, I probably should have just opened up a new branch under the {xaringanBuilder} repo to do this, but the nice thing about working from a totally new repo is that I could also preview the documentation with full links, etc. Once we were happy with the way it looked, we actually went back to the {xaringanBuilder} repo and changed the name there.</p>
<p>This is where things got a little tricky. Since I already had a repo under <code>jhelvy/renderthis</code>, I couldn’t just change the name of <code>jhelvy/xaringanBuilder</code> to it. So I first changed <code>jhelvy/renderthis</code> to <code>jhelvy/renderthistemp</code>, then changed <code>jhelvy/xaringanBuilder</code> to <code>jhelvy/renderthis</code>. GitHub automagically handles redirects so that any user that navigates to https://github.com/jhelvy/xaringanBuilder gets redirected to https://github.com/jhelvy/renderthis.</p>
<p>Once again, shout out to Garrick for using some serious GitHub wizardry here. He was able to salvage most of my edits in the <code>jhelvy/renderthistemp</code> repo and merge them into the new <code>jhelvy/renderthis</code> repo (I still have no idea how he managed this). Garrick guided the way through the messy process of changing a package name without losing any of the commit history on GitHub. With a few more small changes to clean up the package documentation and pkgdown site, {renderthis} was ready to be introduced to the world.</p>
</section>
<section id="going-to-cran" class="level1">
<h1>Going to CRAN!</h1>
<p>The <a href="https://github.com/rstudio/chromote">{chromote}</a> and <a href="https://github.com/rstudio/webshot2">{webshot2}</a> packages (which {renderthis} depends on) were both conveniently released on CRAN in May of 2022. With these additions, we now had every dependency on CRAN, so that gave us the motivation to get {renderthis} on CRAN as well.</p>
<p>This too was a bit tricky given what this package does. In particular, the function examples we wrote had code that if executed would error, e.g., <code>renderthis::to_pdf("slides.Rmd")</code>. Even though we wrapped these in <code>\dontrun{}</code>, CRAN still ran these examples on the first submission. After a little more back and forth on how to address this, Garrick came up with a handy solution by making a new <a href="https://github.com/jhelvy/renderthis/blob/main/R/with_example.R"><code>with_example()</code></a> function which allows the examples to be run in a temp directory, which we use in each function example.</p>
<p>With that fix, version 0.1.0 of {renderthis} was <a href="https://cran.r-project.org/web/packages/renderthis/index.html">published on CRAN</a> 🎉!</p>
</section>
<section id="whats-next" class="level1">
<h1>What’s next?</h1>
<p>One of the complaints I had early on with {xaringan} is that there was no way to print out “handouts”. I can’t stand Powerpoint, but the ability to print out a pdf with small thumbnails of each slide with space for notes was a convenient feature I used often, and to date nothing like it exists for the {xaringan} ecosystem.</p>
<p>For this reason, we are working on a <code>to_handout()</code> function that will be introduced in the next version of {renderthis}. Below is an example of a set of demo slides.</p>
<center>
<img src="https://user-images.githubusercontent.com/5420529/130334143-0c026584-4213-47a3-9976-e5515f715521.png" width="100%">
</center>
<p>We’re also planning on supporting rendering Quarto slides, which again was one of the motivations to change the package name to a more general one.</p>
<p>If you made it to the end of this post, thanks for reading! And if you give {renderthis} a shot and have feedback or thoughts on it, please let us know by filing an <a href="https://github.com/jhelvy/renderthis/issues">issue</a>.</p>
<p>And if you love the package and just want to let us know about that, drop us a note on the <a href="https://github.com/jhelvy/renderthis/issues/22">“praise” issue</a> 😊.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.laurenchenarides\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 <a href="www.laurenchenarides.com/cv.html">CV</a> &nbsp;<a href="https://github.com/laurenchenarides" target="blank"><i class="bi bi-github"></i></a> &nbsp;<a href="https://www.linkedin.com/in/laurenchenarides/" target="blank"><i class="bi bi-linkedin"></i></a> &nbsp;<a href="https://scholar.google.com/citations?user=07RAgEQAAAAJ&amp;hl=en" target="blank"><i class="ai ai-google-scholar fa-lg"></i></a> &nbsp;<a href="https://orcid.org/my-orcid?orcid=0000-0001-8983-9694" target="blank"><i class="ai ai-orcid fa-lg"></i></a><br>Site made with <i class="bi bi-heart-fill"></i>, <a href="https://github.com/laurenchenarides/personal_website" target="_blank"><i class="bi bi-git"></i></a>, and <a href="https://quarto.org/" target="_blank"><img src="https://quarto.org/favicon.png" width="12"> quarto</a><br>© 2025 Lauren Chenarides
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>